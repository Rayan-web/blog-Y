import React, { useState } from "react";
import { Link, Navigate, NavLink, Outlet } from "react-router-dom";
import { UserAuth } from "../context/AuthContext";
import toast, { Toaster } from "react-hot-toast";

function Navbar() {
  const { user, logout } = UserAuth();

  const logoutuser = async () => {
    try {
      await logout();
      toast("Here is your toast.");

      Navigate("/");
    } catch (error) {
      console.log(error);
    }
  };

  return (
    <div className="">
      {!user && (
        <nav className=" bg-blacky p-1 ">
          <ul className="text-white flex justify-around items-center ">
            <svg
              className="cursor-pointer"
              width="90"
              height="50"
              viewBox="0 0 107 66"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M68.05 39H57.03V18.7H59.437V38.71H68.05V39ZM68.9393 29.343C68.9393 25.8243 69.7899 23.1563 71.4913 21.339C73.2119 19.5023 75.4159 18.584 78.1033 18.584C80.7906 18.584 82.9269 19.3767 84.5123 20.962C86.1169 22.5473 86.9193 25.08 86.9193 28.56C86.9193 32.04 86.0686 34.6693 84.3673 36.448C82.6659 38.2267 80.3943 39.116 77.5523 39.116C75.0969 39.116 73.0863 38.4103 71.5203 36.999C70.7083 36.2643 70.0703 35.2493 69.6063 33.954C69.1616 32.6393 68.9393 31.1023 68.9393 29.343ZM78.0163 18.874C76.0636 18.874 74.4589 19.744 73.2023 21.484C71.9649 23.224 71.3463 25.776 71.3463 29.14C71.3463 32.504 71.9359 34.9593 73.1153 36.506C74.2946 38.0527 75.8606 38.826 77.8133 38.826C79.7853 38.826 81.3899 37.956 82.6273 36.216C83.8839 34.4567 84.5123 31.9143 84.5123 28.589C84.5123 25.2443 83.9129 22.789 82.7143 21.223C81.5349 19.657 79.9689 18.874 78.0163 18.874ZM99.6491 39.116C96.0338 39.116 93.3561 38.0913 91.6161 36.042C90.9975 35.3073 90.4948 34.331 90.1081 33.113C89.7215 31.895 89.5281 30.416 89.5281 28.676C89.5281 26.936 89.8085 25.3797 90.3691 24.007C90.9491 22.615 91.7321 21.542 92.7181 20.788C94.6321 19.3767 96.9425 18.671 99.6491 18.671C100.519 18.671 101.37 18.7387 102.201 18.874C103.032 18.99 103.651 19.1157 104.057 19.251L104.666 19.454L104.579 19.744C103.071 19.222 101.428 18.961 99.6491 18.961C97.5998 18.961 95.8888 19.628 94.5161 20.962C93.4721 21.948 92.7375 23.398 92.3121 25.312C92.0608 26.3947 91.9351 27.719 91.9351 29.285C91.9351 30.851 92.1575 32.301 92.6021 33.635C93.0468 34.9497 93.5495 35.926 94.1101 36.564C94.6901 37.202 95.3861 37.7143 96.1981 38.101C97.0101 38.4683 97.6578 38.681 98.1411 38.739C98.6245 38.797 99.1948 38.826 99.8521 38.826C100.529 38.826 101.428 38.7487 102.549 38.594V32.62H99.0401V32.33H106.203V32.62H104.956V38.333C103.487 38.855 101.718 39.116 99.6491 39.116Z"
                fill="white"
              />
              <path
                d="M47.8748 12.7445C48.8318 13.2863 49.6253 14.0672 50.1742 15.0076C50.7232 15.9481 51.0081 17.0144 50.9998 18.098V38.1269C50.9996 39.2198 50.7013 40.2927 50.1359 41.2345C49.5705 42.1764 48.7586 42.9528 47.7842 43.4834L29.0343 55.2292C28.106 55.7347 27.0617 56 25.9999 56C24.9381 56 23.8938 55.7347 22.9656 55.2292L4.21561 43.4834C3.24173 42.9531 2.43009 42.1771 1.86473 41.2359C1.29937 40.2946 1.00082 39.2223 1 38.1299V18.098C1.00026 17.0051 1.29855 15.9321 1.86394 14.9903C2.42933 14.0485 3.24127 13.2721 4.21561 12.7414L22.9656 1.79544C23.9212 1.27379 24.9968 1 26.0905 1C27.1843 1 28.2599 1.27379 29.2155 1.79544L47.9655 12.7445H47.8748Z"
                fill="white"
                stroke="#CF22C8"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
              <path
                d="M7.583 43.007C7.33567 43.007 7.14133 42.9363 7 42.795C6.85867 42.689 6.85867 42.6007 7 42.53C7.77733 42.3887 8.44867 42.106 9.014 41.682C9.57933 41.2227 10.0387 40.6573 10.392 39.986C11.134 38.7493 11.8583 37.5127 12.565 36.276C13.2717 35.004 13.9607 33.732 14.632 32.46L19.72 23.079C20.5327 21.6303 21.2393 20.2347 21.84 18.892C22.476 17.5493 22.9707 16.5777 23.324 15.977C23.5713 15.5177 23.9953 15.1113 24.596 14.758C25.232 14.3693 25.8503 14.069 26.451 13.857C26.239 13.857 26.027 13.857 25.815 13.857C25.603 13.8217 25.3733 13.804 25.126 13.804C24.0307 13.804 22.8293 13.8747 21.522 14.016C20.25 14.122 18.9957 14.2987 17.759 14.546C16.5577 14.7933 15.4977 15.129 14.579 15.553C13.6603 15.977 13.042 16.4893 12.724 17.09C12.5827 17.408 12.459 17.726 12.353 18.044C12.247 18.362 12.194 18.68 12.194 18.998C12.194 19.8107 12.4767 20.3937 13.042 20.747C13.0773 20.747 13.095 20.7823 13.095 20.853C13.095 20.9237 13.0243 20.9943 12.883 21.065C12.777 21.1357 12.671 21.1533 12.565 21.118C12.247 20.9413 11.8583 20.5173 11.399 19.846C10.9397 19.1393 10.657 18.5563 10.551 18.097C10.445 17.673 10.392 17.2843 10.392 16.931C10.392 16.0123 10.6923 15.3057 11.293 14.811C11.8937 14.281 12.6533 13.91 13.572 13.698C14.4907 13.4507 15.427 13.3093 16.381 13.274C17.3703 13.2033 18.236 13.168 18.978 13.168C20.1087 13.168 21.4513 13.168 23.006 13.168C24.5607 13.1327 25.9917 13.115 27.299 13.115C27.617 13.115 27.9703 13.115 28.359 13.115C28.7477 13.0797 29.154 13.062 29.578 13.062C30.532 13.062 31.5213 13.115 32.546 13.221C33.5707 13.327 34.507 13.5567 35.355 13.91C36.203 14.2633 36.8567 14.811 37.316 15.553C37.7753 16.3303 38.005 17.1783 38.005 18.097C38.005 18.9803 37.8283 19.8637 37.475 20.747C37.1217 21.6303 36.6977 22.39 36.203 23.026C35.885 23.4147 35.514 23.8033 35.09 24.192C34.666 24.5807 34.189 24.9517 33.659 25.305C33.129 25.6583 32.546 25.994 31.91 26.312C31.3093 26.5947 30.585 26.8243 29.737 27.001C29.7017 27.001 29.6663 27.054 29.631 27.16C29.631 27.266 29.6663 27.319 29.737 27.319C29.9137 27.3543 30.214 27.4073 30.638 27.478C31.0973 27.5133 31.5037 27.5663 31.857 27.637C33.0937 27.8843 34.1183 28.4143 34.931 29.227C35.779 30.0043 36.203 31.0643 36.203 32.407C36.203 33.9263 35.7967 35.322 34.984 36.594C34.2067 37.866 33.1997 38.9613 31.963 39.88C30.7263 40.7633 29.4367 41.4523 28.094 41.947C26.398 42.583 24.4547 42.901 22.264 42.901C20.9567 42.901 19.5963 42.7773 18.183 42.53C16.7697 42.2827 15.48 41.8587 14.314 41.258C14.0667 41.1167 13.8193 41.0107 13.572 40.94C13.3247 40.834 13.0597 40.781 12.777 40.781C12.2823 40.781 11.7523 40.9223 11.187 41.205C10.8337 41.3463 10.3743 41.6113 9.809 42C9.24367 42.3887 8.60767 42.7067 7.901 42.954C7.83033 42.9893 7.72433 43.007 7.583 43.007ZM20.568 42.159C21.4867 42.159 22.4053 42.0707 23.324 41.894C24.2427 41.682 25.073 41.4347 25.815 41.152C27.1223 40.6573 28.3237 39.9683 29.419 39.085C30.5143 38.1663 31.3977 37.0887 32.069 35.852C32.7757 34.58 33.129 33.1667 33.129 31.612C33.129 30.5873 32.864 29.81 32.334 29.28C31.804 28.7147 31.1327 28.326 30.32 28.114C29.5073 27.902 28.6593 27.796 27.776 27.796C27.1047 27.796 26.4687 27.8313 25.868 27.902C25.2673 27.9727 24.7197 28.061 24.225 28.167C23.2357 28.3437 22.3523 28.538 21.575 28.75C21.4337 28.6793 21.4513 28.5557 21.628 28.379C21.8047 28.167 22.0343 27.9373 22.317 27.69C22.635 27.4427 22.8823 27.2483 23.059 27.107C23.1297 27.0363 23.271 26.9303 23.483 26.789C23.7303 26.6123 23.9247 26.524 24.066 26.524C25.7973 26.524 27.3343 26.418 28.677 26.206C30.055 25.994 31.2387 25.4817 32.228 24.669C33.2173 23.821 34.03 22.5137 34.666 20.747C34.984 19.8283 35.143 18.9273 35.143 18.044C35.143 17.0193 34.8957 16.136 34.401 15.394C33.9063 14.6167 33.1113 14.1573 32.016 14.016C31.8747 13.9807 31.7157 13.963 31.539 13.963C31.3623 13.963 31.1857 13.963 31.009 13.963C30.3377 13.963 29.5957 14.0513 28.783 14.228C28.0057 14.4047 27.4227 14.7403 27.034 15.235C26.1507 16.401 25.3027 17.726 24.49 19.21C23.6773 20.6587 22.9 22.1427 22.158 23.662C21.416 25.146 20.7093 26.5417 20.038 27.849C19.2253 29.439 18.395 31.0467 17.547 32.672C16.699 34.2973 15.8687 35.9403 15.056 37.601C14.844 38.025 14.738 38.4313 14.738 38.82C14.738 39.5267 15.1797 40.2157 16.063 40.887C16.6637 41.3463 17.3527 41.682 18.13 41.894C18.9427 42.0707 19.7553 42.159 20.568 42.159Z"
                fill="#CF22C8"
              />
            </svg>

            <li className=" cursor-pointer ">
              <NavLink to="/" end>
                Home
              </NavLink>
            </li>

            <li className="flex items-center cursor-pointer  ">
              <NavLink to="/login">Log in</NavLink>
              <svg
                className="w-6 h-6 ml-2 "
                fill="currentColor"
                viewBox="0 0 20 20"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  fill-rule="evenodd"
                  d="M3 3a1 1 0 00-1 1v12a1 1 0 102 0V4a1 1 0 00-1-1zm10.293 9.293a1 1 0 001.414 1.414l3-3a1 1 0 000-1.414l-3-3a1 1 0 10-1.414 1.414L14.586 9H7a1 1 0 100 2h7.586l-1.293 1.293z"
                  clip-rule="evenodd"
                ></path>
              </svg>
            </li>
          </ul>
        </nav>
      )}
      {user && (
        <>
          <nav className=" bg-blacky p-1 ">
            <ul className="text-white flex justify-around items-center ">
              <svg
                className="cursor-pointer"
                width="90"
                height="50"
                viewBox="0 0 107 66"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M68.05 39H57.03V18.7H59.437V38.71H68.05V39ZM68.9393 29.343C68.9393 25.8243 69.7899 23.1563 71.4913 21.339C73.2119 19.5023 75.4159 18.584 78.1033 18.584C80.7906 18.584 82.9269 19.3767 84.5123 20.962C86.1169 22.5473 86.9193 25.08 86.9193 28.56C86.9193 32.04 86.0686 34.6693 84.3673 36.448C82.6659 38.2267 80.3943 39.116 77.5523 39.116C75.0969 39.116 73.0863 38.4103 71.5203 36.999C70.7083 36.2643 70.0703 35.2493 69.6063 33.954C69.1616 32.6393 68.9393 31.1023 68.9393 29.343ZM78.0163 18.874C76.0636 18.874 74.4589 19.744 73.2023 21.484C71.9649 23.224 71.3463 25.776 71.3463 29.14C71.3463 32.504 71.9359 34.9593 73.1153 36.506C74.2946 38.0527 75.8606 38.826 77.8133 38.826C79.7853 38.826 81.3899 37.956 82.6273 36.216C83.8839 34.4567 84.5123 31.9143 84.5123 28.589C84.5123 25.2443 83.9129 22.789 82.7143 21.223C81.5349 19.657 79.9689 18.874 78.0163 18.874ZM99.6491 39.116C96.0338 39.116 93.3561 38.0913 91.6161 36.042C90.9975 35.3073 90.4948 34.331 90.1081 33.113C89.7215 31.895 89.5281 30.416 89.5281 28.676C89.5281 26.936 89.8085 25.3797 90.3691 24.007C90.9491 22.615 91.7321 21.542 92.7181 20.788C94.6321 19.3767 96.9425 18.671 99.6491 18.671C100.519 18.671 101.37 18.7387 102.201 18.874C103.032 18.99 103.651 19.1157 104.057 19.251L104.666 19.454L104.579 19.744C103.071 19.222 101.428 18.961 99.6491 18.961C97.5998 18.961 95.8888 19.628 94.5161 20.962C93.4721 21.948 92.7375 23.398 92.3121 25.312C92.0608 26.3947 91.9351 27.719 91.9351 29.285C91.9351 30.851 92.1575 32.301 92.6021 33.635C93.0468 34.9497 93.5495 35.926 94.1101 36.564C94.6901 37.202 95.3861 37.7143 96.1981 38.101C97.0101 38.4683 97.6578 38.681 98.1411 38.739C98.6245 38.797 99.1948 38.826 99.8521 38.826C100.529 38.826 101.428 38.7487 102.549 38.594V32.62H99.0401V32.33H106.203V32.62H104.956V38.333C103.487 38.855 101.718 39.116 99.6491 39.116Z"
                  fill="white"
                />
                <path
                  d="M47.8748 12.7445C48.8318 13.2863 49.6253 14.0672 50.1742 15.0076C50.7232 15.9481 51.0081 17.0144 50.9998 18.098V38.1269C50.9996 39.2198 50.7013 40.2927 50.1359 41.2345C49.5705 42.1764 48.7586 42.9528 47.7842 43.4834L29.0343 55.2292C28.106 55.7347 27.0617 56 25.9999 56C24.9381 56 23.8938 55.7347 22.9656 55.2292L4.21561 43.4834C3.24173 42.9531 2.43009 42.1771 1.86473 41.2359C1.29937 40.2946 1.00082 39.2223 1 38.1299V18.098C1.00026 17.0051 1.29855 15.9321 1.86394 14.9903C2.42933 14.0485 3.24127 13.2721 4.21561 12.7414L22.9656 1.79544C23.9212 1.27379 24.9968 1 26.0905 1C27.1843 1 28.2599 1.27379 29.2155 1.79544L47.9655 12.7445H47.8748Z"
                  fill="white"
                  stroke="#CF22C8"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
                <path
                  d="M7.583 43.007C7.33567 43.007 7.14133 42.9363 7 42.795C6.85867 42.689 6.85867 42.6007 7 42.53C7.77733 42.3887 8.44867 42.106 9.014 41.682C9.57933 41.2227 10.0387 40.6573 10.392 39.986C11.134 38.7493 11.8583 37.5127 12.565 36.276C13.2717 35.004 13.9607 33.732 14.632 32.46L19.72 23.079C20.5327 21.6303 21.2393 20.2347 21.84 18.892C22.476 17.5493 22.9707 16.5777 23.324 15.977C23.5713 15.5177 23.9953 15.1113 24.596 14.758C25.232 14.3693 25.8503 14.069 26.451 13.857C26.239 13.857 26.027 13.857 25.815 13.857C25.603 13.8217 25.3733 13.804 25.126 13.804C24.0307 13.804 22.8293 13.8747 21.522 14.016C20.25 14.122 18.9957 14.2987 17.759 14.546C16.5577 14.7933 15.4977 15.129 14.579 15.553C13.6603 15.977 13.042 16.4893 12.724 17.09C12.5827 17.408 12.459 17.726 12.353 18.044C12.247 18.362 12.194 18.68 12.194 18.998C12.194 19.8107 12.4767 20.3937 13.042 20.747C13.0773 20.747 13.095 20.7823 13.095 20.853C13.095 20.9237 13.0243 20.9943 12.883 21.065C12.777 21.1357 12.671 21.1533 12.565 21.118C12.247 20.9413 11.8583 20.5173 11.399 19.846C10.9397 19.1393 10.657 18.5563 10.551 18.097C10.445 17.673 10.392 17.2843 10.392 16.931C10.392 16.0123 10.6923 15.3057 11.293 14.811C11.8937 14.281 12.6533 13.91 13.572 13.698C14.4907 13.4507 15.427 13.3093 16.381 13.274C17.3703 13.2033 18.236 13.168 18.978 13.168C20.1087 13.168 21.4513 13.168 23.006 13.168C24.5607 13.1327 25.9917 13.115 27.299 13.115C27.617 13.115 27.9703 13.115 28.359 13.115C28.7477 13.0797 29.154 13.062 29.578 13.062C30.532 13.062 31.5213 13.115 32.546 13.221C33.5707 13.327 34.507 13.5567 35.355 13.91C36.203 14.2633 36.8567 14.811 37.316 15.553C37.7753 16.3303 38.005 17.1783 38.005 18.097C38.005 18.9803 37.8283 19.8637 37.475 20.747C37.1217 21.6303 36.6977 22.39 36.203 23.026C35.885 23.4147 35.514 23.8033 35.09 24.192C34.666 24.5807 34.189 24.9517 33.659 25.305C33.129 25.6583 32.546 25.994 31.91 26.312C31.3093 26.5947 30.585 26.8243 29.737 27.001C29.7017 27.001 29.6663 27.054 29.631 27.16C29.631 27.266 29.6663 27.319 29.737 27.319C29.9137 27.3543 30.214 27.4073 30.638 27.478C31.0973 27.5133 31.5037 27.5663 31.857 27.637C33.0937 27.8843 34.1183 28.4143 34.931 29.227C35.779 30.0043 36.203 31.0643 36.203 32.407C36.203 33.9263 35.7967 35.322 34.984 36.594C34.2067 37.866 33.1997 38.9613 31.963 39.88C30.7263 40.7633 29.4367 41.4523 28.094 41.947C26.398 42.583 24.4547 42.901 22.264 42.901C20.9567 42.901 19.5963 42.7773 18.183 42.53C16.7697 42.2827 15.48 41.8587 14.314 41.258C14.0667 41.1167 13.8193 41.0107 13.572 40.94C13.3247 40.834 13.0597 40.781 12.777 40.781C12.2823 40.781 11.7523 40.9223 11.187 41.205C10.8337 41.3463 10.3743 41.6113 9.809 42C9.24367 42.3887 8.60767 42.7067 7.901 42.954C7.83033 42.9893 7.72433 43.007 7.583 43.007ZM20.568 42.159C21.4867 42.159 22.4053 42.0707 23.324 41.894C24.2427 41.682 25.073 41.4347 25.815 41.152C27.1223 40.6573 28.3237 39.9683 29.419 39.085C30.5143 38.1663 31.3977 37.0887 32.069 35.852C32.7757 34.58 33.129 33.1667 33.129 31.612C33.129 30.5873 32.864 29.81 32.334 29.28C31.804 28.7147 31.1327 28.326 30.32 28.114C29.5073 27.902 28.6593 27.796 27.776 27.796C27.1047 27.796 26.4687 27.8313 25.868 27.902C25.2673 27.9727 24.7197 28.061 24.225 28.167C23.2357 28.3437 22.3523 28.538 21.575 28.75C21.4337 28.6793 21.4513 28.5557 21.628 28.379C21.8047 28.167 22.0343 27.9373 22.317 27.69C22.635 27.4427 22.8823 27.2483 23.059 27.107C23.1297 27.0363 23.271 26.9303 23.483 26.789C23.7303 26.6123 23.9247 26.524 24.066 26.524C25.7973 26.524 27.3343 26.418 28.677 26.206C30.055 25.994 31.2387 25.4817 32.228 24.669C33.2173 23.821 34.03 22.5137 34.666 20.747C34.984 19.8283 35.143 18.9273 35.143 18.044C35.143 17.0193 34.8957 16.136 34.401 15.394C33.9063 14.6167 33.1113 14.1573 32.016 14.016C31.8747 13.9807 31.7157 13.963 31.539 13.963C31.3623 13.963 31.1857 13.963 31.009 13.963C30.3377 13.963 29.5957 14.0513 28.783 14.228C28.0057 14.4047 27.4227 14.7403 27.034 15.235C26.1507 16.401 25.3027 17.726 24.49 19.21C23.6773 20.6587 22.9 22.1427 22.158 23.662C21.416 25.146 20.7093 26.5417 20.038 27.849C19.2253 29.439 18.395 31.0467 17.547 32.672C16.699 34.2973 15.8687 35.9403 15.056 37.601C14.844 38.025 14.738 38.4313 14.738 38.82C14.738 39.5267 15.1797 40.2157 16.063 40.887C16.6637 41.3463 17.3527 41.682 18.13 41.894C18.9427 42.0707 19.7553 42.159 20.568 42.159Z"
                  fill="#CF22C8"
                />
              </svg>

              <li className=" cursor-pointer ">
                <NavLink to="/" end>
                  Home
                </NavLink>
              </li>
              <li className=" cursor-pointer ">
                <NavLink to="/create">Create Post</NavLink>
              </li>
              <li className="flex items-center cursor-pointer  ">
                {<h1>{user && user.email}</h1>}
                <svg
                  class="w-6 h-6 ml-2"
                  fill="#CF22C8"
                  viewBox="0 0 20 20"
                  xmlns="http://www.w3.org/2000/svg"
                  onClick={logoutuser}
                >
                  <path
                    fill-rule="evenodd"
                    d="M3 3a1 1 0 00-1 1v12a1 1 0 102 0V4a1 1 0 00-1-1zm10.293 9.293a1 1 0 001.414 1.414l3-3a1 1 0 000-1.414l-3-3a1 1 0 10-1.414 1.414L14.586 9H7a1 1 0 100 2h7.586l-1.293 1.293z"
                    clip-rule="evenodd"
                  ></path>
                </svg>
              </li>
            </ul>
          </nav>
          <Toaster />
        </>
      )}
      <Outlet />
    </div>
  );
}

export default Navbar;
